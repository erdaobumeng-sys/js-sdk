"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const vitest_1 = require("vitest");
const depsUtils_1 = require("./../functions/depsUtils");
const deps = (obj) => obj;
(0, vitest_1.describe)("getLicense", () => {
    (0, vitest_1.it)("it should return license", () => {
        (0, vitest_1.expect)((0, depsUtils_1.getLicense)(deps({ license: "MIT" }))).toBe("MIT");
        (0, vitest_1.expect)((0, depsUtils_1.getLicense)(deps({ license: { type: "MIT", url: "https://example.com" } }))).toBe("MIT");
    });
    (0, vitest_1.it)("verify overrideLicense", () => {
        (0, vitest_1.expect)((0, depsUtils_1.getLicense)(deps({ license: "MIT" }), () => "BSD")).toBe("BSD");
        (0, vitest_1.expect)((0, depsUtils_1.getLicense)(deps({ license: "MIT" }), undefined)).toBe("MIT");
    });
});
(0, vitest_1.describe)("isMatchPackage", () => {
    (0, vitest_1.it)("verify package match", () => {
        (0, vitest_1.expect)((0, depsUtils_1.isMatchPackage)(deps({ name: "foo", version: "1.2.3" }), "foo")).toBe(true);
        (0, vitest_1.expect)((0, depsUtils_1.isMatchPackage)(deps({ name: "foo", version: "1.2.3" }), "foo@1.2.3")).toBe(true);
        (0, vitest_1.expect)((0, depsUtils_1.isMatchPackage)(deps({ name: "foo", version: "1.2.3" }), "foo@*")).toBe(true);
        (0, vitest_1.expect)((0, depsUtils_1.isMatchPackage)(deps({ name: "foo", version: "1.2.3" }), "foo@all")).toBe(true);
        (0, vitest_1.expect)((0, depsUtils_1.isMatchPackage)(deps({ name: "@foo/bar", version: "1.2.3" }), "@foo/bar")).toBe(true);
        (0, vitest_1.expect)((0, depsUtils_1.isMatchPackage)(deps({ name: "@foo/bar", version: "1.2.3" }), "@foo/bar@1.2.3")).toBe(true);
        (0, vitest_1.expect)((0, depsUtils_1.isMatchPackage)(deps({ name: "@foo/bar", version: "1.2.3" }), "@foo/bar@*")).toBe(true);
        (0, vitest_1.expect)((0, depsUtils_1.isMatchPackage)(deps({ name: "@foo/bar", version: "1.2.3" }), "@foo/bar@all")).toBe(true);
        (0, vitest_1.expect)((0, depsUtils_1.isMatchPackage)(deps({ name: "@foo/bar", version: "1.2.3" }), "@foo/*")).toBe(true);
        (0, vitest_1.expect)((0, depsUtils_1.isMatchPackage)(deps({ name: "@foo/bar", version: "1.2.3" }), "@foo/*@1.2.3")).toBe(true);
        (0, vitest_1.expect)((0, depsUtils_1.isMatchPackage)(deps({ name: "@foo/bar", version: "1.2.3" }), "@foo/*@*")).toBe(true);
        (0, vitest_1.expect)((0, depsUtils_1.isMatchPackage)(deps({ name: "@foo/bar", version: "1.2.3" }), "@foo/*@all")).toBe(true);
        (0, vitest_1.expect)((0, depsUtils_1.isMatchPackage)(deps({ name: "foo", version: "1.2.3" }), "xxx")).toBe(false);
        (0, vitest_1.expect)((0, depsUtils_1.isMatchPackage)(deps({ name: "foo", version: "1.2.3" }), "foo@1.2.4")).toBe(false);
        (0, vitest_1.expect)((0, depsUtils_1.isMatchPackage)(deps({ name: "foo", version: "1.2.3" }), "xxx@*")).toBe(false);
        (0, vitest_1.expect)((0, depsUtils_1.isMatchPackage)(deps({ name: "@foo/bar", version: "1.2.3" }), "@foo/*@1.2.4")).toBe(false);
    });
});
(0, vitest_1.describe)("isMatchName", () => {
    (0, vitest_1.it)("verify package name match", () => {
        (0, vitest_1.expect)((0, depsUtils_1.isMatchName)(deps({ name: "foo", version: "1.2.3" }), "foo")).toBe(true);
        (0, vitest_1.expect)((0, depsUtils_1.isMatchName)(deps({ name: "foo", version: "1.2.3" }), "foo@1.2.3")).toBe(true);
        (0, vitest_1.expect)((0, depsUtils_1.isMatchName)(deps({ name: "foo", version: "1.2.3" }), "foo@*")).toBe(true);
        (0, vitest_1.expect)((0, depsUtils_1.isMatchName)(deps({ name: "foo", version: "1.2.3" }), "foo@all")).toBe(true);
        (0, vitest_1.expect)((0, depsUtils_1.isMatchName)(deps({ name: "@foo/bar", version: "1.2.3" }), "@foo/bar")).toBe(true);
        (0, vitest_1.expect)((0, depsUtils_1.isMatchName)(deps({ name: "@foo/bar", version: "1.2.3" }), "@foo/bar@1.2.3")).toBe(true);
        (0, vitest_1.expect)((0, depsUtils_1.isMatchName)(deps({ name: "@foo/bar", version: "1.2.3" }), "@foo/bar@*")).toBe(true);
        (0, vitest_1.expect)((0, depsUtils_1.isMatchName)(deps({ name: "@foo/bar", version: "1.2.3" }), "@foo/bar@all")).toBe(true);
        (0, vitest_1.expect)((0, depsUtils_1.isMatchName)(deps({ name: "@foo/bar", version: "1.2.3" }), "@foo/*")).toBe(true);
        (0, vitest_1.expect)((0, depsUtils_1.isMatchName)(deps({ name: "@foo/bar", version: "1.2.3" }), "@foo/*@1.2.3")).toBe(true);
        (0, vitest_1.expect)((0, depsUtils_1.isMatchName)(deps({ name: "@foo/bar", version: "1.2.3" }), "@foo/*@*")).toBe(true);
        (0, vitest_1.expect)((0, depsUtils_1.isMatchName)(deps({ name: "@foo/bar", version: "1.2.3" }), "@foo/*@all")).toBe(true);
        (0, vitest_1.expect)((0, depsUtils_1.isMatchName)(deps({ name: "foo", version: "1.2.3" }), "xxx")).toBe(false);
        (0, vitest_1.expect)((0, depsUtils_1.isMatchName)(deps({ name: "foo", version: "1.2.3" }), "xxx@*")).toBe(false);
        (0, vitest_1.expect)((0, depsUtils_1.isMatchName)(deps({ name: "foo", version: "1.2.3" }), "foo@1.2.4")).toBe(true);
        (0, vitest_1.expect)((0, depsUtils_1.isMatchName)(deps({ name: "@foo/bar", version: "1.2.3" }), "@foo/*@1.2.4")).toBe(true);
    });
});
(0, vitest_1.describe)("isMatchVersion", () => {
    (0, vitest_1.it)("verify version match", () => {
        (0, vitest_1.expect)((0, depsUtils_1.isMatchVersion)(deps({ version: "1.0.0" }), "1.0.0")).toBe(true);
        (0, vitest_1.expect)((0, depsUtils_1.isMatchVersion)(deps({ version: "1.0.0" }), "*")).toBe(true);
        (0, vitest_1.expect)((0, depsUtils_1.isMatchVersion)(deps({ version: "1.0.0" }), "all")).toBe(true);
        (0, vitest_1.expect)((0, depsUtils_1.isMatchVersion)(deps({ version: "1.0.0" }), "0.0.0")).toBe(false);
    });
});
